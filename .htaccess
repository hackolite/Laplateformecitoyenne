#On empêche le listage de répertoire
Options -Indexes
Options +FollowSymLinks

RewriteEngine On

# fichier css mais php
RewriteRule ^style-([0-9]+).css /style.php [L]

#versionning
RewriteRule ^([a-z0-9]+)-([0-9]+).([a-z]+)$ $1.$3 [L]
RewriteRule ^(css|js|font|img)/([a-z0-9_]+)-([0-9]+).([a-z]+)$ $1/$2.$4 [L]
# avec sous dossiers
RewriteRule ^(css|js|font|img)/([a-z0-9]+)/([a-z0-9_]*)-([0-9]+).([a-z]+)$ $1/$2/$3.$5 [L]

# redirection si langue uniquement
RewriteRule ^(en|fr)$ /?lang=$1 [L]

# on redirige tous les fichiers à la racine si en ou fr est présent
#RewriteRule ^(en|fr)/([a-z]+)/([a-z0-9]+).(.+) /$1/$2$3 [L]



# on redirige les pages au bon endroit
RewriteRule ^(en|fr)/(home|about|team|)/?$ /?lang=$1&page=$2 [L]

# déconnexion
RewriteRule ^disconnect/([a-z]+)/([a-zA-Z0-9]+) /?logout=$1&id=$2 [L]

ErrorDocument 400 /error?v=400
ErrorDocument 401 /error?v=401
ErrorDocument 403 /error?v=403
ErrorDocument 404 /error?v=404
ErrorDocument 500 /error?v=500
